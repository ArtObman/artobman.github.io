"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6521],{5680:(e,n,t)=>{t.d(n,{xA:()=>p,yg:()=>y});var a=t(6540);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=a.createContext({}),g=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},p=function(e){var n=g(e.components);return a.createElement(l.Provider,{value:n},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=g(t),d=o,y=m["".concat(l,".").concat(d)]||m[d]||u[d]||i;return t?a.createElement(y,r(r({ref:n},p),{},{components:t})):a.createElement(y,r({ref:n},p))}));function y(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,r=new Array(i);r[0]=d;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[m]="string"==typeof e?e:o,r[1]=s;for(var g=2;g<i;g++)r[g]=t[g];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3528:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>g});var a=t(8168),o=(t(6540),t(5680));const i={title:"Overview"},r=void 0,s={unversionedId:"suggestion/overview",id:"suggestion/overview",title:"Overview",description:"A feature-rich suggestion system, condensed into a single custom command.",source:"@site/docs/suggestion/overview.md",sourceDirName:"suggestion",slug:"/suggestion/overview",permalink:"/suggestion/overview",draft:!1,editUrl:"https://github.com/yagpdb-cc/yagpdb-cc/edit/master/website/docs/suggestion/overview.md",tags:[],version:"current",frontMatter:{title:"Overview"},sidebar:"sidebar",previous:{title:"Staff On Duty",permalink:"/moderation/staff-on-duty"},next:{title:"Main CC",permalink:"/suggestion/main-cc"}},l={},g=[{value:"Features",id:"features",level:2},{value:"Installing",id:"installing",level:2},{value:"What to remove",id:"what-to-remove",level:5},{value:"Configuration",id:"configuration",level:2},{value:"Channels",id:"channels",level:3},{value:"Other",id:"other",level:3},{value:"Examples",id:"examples",level:4},{value:"Upvote and Downvote example with unicode (inbuilt) emoji",id:"upvote-and-downvote-example-with-unicode-inbuilt-emoji",level:5},{value:"Upvote and Downvote example with custom emoji",id:"upvote-and-downvote-example-with-custom-emoji",level:5},{value:"Commands",id:"commands",level:2},{value:"For everyone",id:"for-everyone",level:3},{value:"For Mods / Admins",id:"for-mods--admins",level:3},{value:"FAQ",id:"faq",level:2},{value:"Author",id:"author",level:2}],p={toc:g},m="wrapper";function u(e){let{components:n,...t}=e;return(0,o.yg)(m,(0,a.A)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("p",null,"A feature-rich suggestion system, condensed into a single custom command.\nThis is similar to the current system used in the YAGPDB Support Server."),(0,o.yg)("h2",{id:"features"},"Features"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},"Logging channels"),(0,o.yg)("li",{parentName:"ul"},"Management commands"),(0,o.yg)("li",{parentName:"ul"},"Cooldown to prevent spam")),(0,o.yg)("h2",{id:"installing"},"Installing"),(0,o.yg)("p",null,"In case you need a refresher, or don't know how to add a custom command, please read this tutorial."),(0,o.yg)("p",null,"For now, we will just add the system to your server and elaborate later on the various configuration variables as well as commands and subcommands."),(0,o.yg)("p",null,"Copy the entire script from ",(0,o.yg)("a",{parentName:"p",href:"main-cc"},"the main cc")," and add it as a new custom command. Set the trigger type to RegEx and paste the following as the trigger:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre"},"(?i)\\A(\\-\\s?|<@!?204255221017214977>\\s*)((del(ete)?|edit)?suggest(ion)?|(sa|suggestadmin)\\s+((?:mark)?dupe|deny|implement(ed)?|archive|approved?|comment))(\\s+|\\z)\n")),(0,o.yg)("admonition",{type:"note"},(0,o.yg)("p",{parentName:"admonition"},"Make sure to replace the ",(0,o.yg)("inlineCode",{parentName:"p"},"-")," at the beginning of the trigger with your server's prefix.")),(0,o.yg)("p",null,"You will not be able to save yet, as the custom command code is slightly over the limit as is. To fix this, we have to do one minor tweak: remove the large leading comment as well as the second comment:"),(0,o.yg)("h5",{id:"what-to-remove"},"What to remove"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-diff"},"- {{/*\n-   Main command for the suggestion system.\n-   See <LINK> for more information.\n-\n-   Author: Satty9361 <https://github.com/Satty9361>\n- */}}\n-\n- {{/* Configurable values */}}\n{{$Suggestion_Channel:=737324313341853796}}\n")),(0,o.yg)("p",null,"Remove the text you see here as red from your custom command. Now you can save, which you should definitely do."),(0,o.yg)("h2",{id:"configuration"},"Configuration"),(0,o.yg)("p",null,"Okay, there are still a few things to do before your suggestion system is set up, which are the configuration variables. Please take your time to read through their description before making any changes."),(0,o.yg)("h3",{id:"channels"},"Channels"),(0,o.yg)("admonition",{type:"note"},(0,o.yg)("p",{parentName:"admonition"},"Among these variables, all channels can be separate or the same.")),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"\ud83d\udccc ",(0,o.yg)("inlineCode",{parentName:"p"},"$Suggestion_Channel"),(0,o.yg)("br",null),"\nThis is the main channel, where all suggestions made through the command will show up - This is the #suggestions channel on the support server.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"\ud83d\udccc ",(0,o.yg)("inlineCode",{parentName:"p"},"$Logging_Channel"),(0,o.yg)("br",null),"\nThis is the channel where the authors are notified if a suggestion was denied, approved, implemented, or marked as dupe.\nIn the YAGPDB server, this is the ",(0,o.yg)("inlineCode",{parentName:"p"},"#suggestion-discussion")," channel.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"\ud83d\udccc ",(0,o.yg)("inlineCode",{parentName:"p"},"$Implemented_Channel"),(0,o.yg)("br",null),"\nThe channel where suggestions which have been marked as implemented are sent.\nThis provides a good way to organise all implemented suggestions into a separate channel.\nOn the support server, you can find this channel as ",(0,o.yg)("inlineCode",{parentName:"p"},"#implemented-suggestions"),".")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"\ud83d\udccc ",(0,o.yg)("inlineCode",{parentName:"p"},"$Approved_Channel"),(0,o.yg)("br",null),'\nWhere approved suggestions are being sent to. This is not the same as implemented suggestions: you can see approved suggestions as "being worked on", and implemented suggestions as "this is now a feature". In the Support Server, we log those under ',(0,o.yg)("inlineCode",{parentName:"p"},"#implemented-suggestions")," as well."))),(0,o.yg)("admonition",{type:"danger"},(0,o.yg)("p",{parentName:"admonition"},"Do not leave any channel ID blank, as this will break the system.")),(0,o.yg)("h3",{id:"other"},"Other"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},"\ud83d\udccc ",(0,o.yg)("inlineCode",{parentName:"p"},"$Mod_Roles"),(0,o.yg)("br",null),"\nList of all role IDs which should have access to the management commands explained further down. There is no need to specify the roles which have Administrator permission, they will gain automatic access. Separate the individual role IDs by spaces.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"$Cooldown"),(0,o.yg)("br",null),"\nThe cooldown in seconds between consecutive suggestions to prevent spam. Set this to ",(0,o.yg)("inlineCode",{parentName:"p"},"0")," to disable, Mods and Admins will automatically bypass this.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"$Upvote"),(0,o.yg)("br",null),"\nThe emoji to use for upvoting a suggestion. Both inbuilt and custom emojis are supported. For custom emoji, use the ",(0,o.yg)("inlineCode",{parentName:"p"},"name:id")," / ",(0,o.yg)("inlineCode",{parentName:"p"},"a:name:id format"),". Otherwise, the corresponding unicode character. See below for an example.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"$Downvote"),(0,o.yg)("br",null),"\nSame as above, however for downvoting a suggestion."))),(0,o.yg)("h4",{id:"examples"},"Examples"),(0,o.yg)("h5",{id:"upvote-and-downvote-example-with-unicode-inbuilt-emoji"},"Upvote and Downvote example with unicode (inbuilt) emoji"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-gotmpl"},'{{$Upvote:="\ud83d\udc4d"}}\n{{$Downvote:="\ud83d\udc4e"}}\n')),(0,o.yg)("h5",{id:"upvote-and-downvote-example-with-custom-emoji"},"Upvote and Downvote example with custom emoji"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-gotmpl"},'{{$Upvote:="upvote:524907425531428864"}}\n{{$Downvote:="downvote:524907425032175638"}}\n')),(0,o.yg)("p",null,"Configure the variables to your liking and save again."),(0,o.yg)("admonition",{type:"info"},(0,o.yg)("p",{parentName:"admonition"},"Your suggestion system is now set up and ready for use!")),(0,o.yg)("h2",{id:"commands"},"Commands"),(0,o.yg)("admonition",{type:"tip"},(0,o.yg)("p",{parentName:"admonition"},"Precede all commands covered in the following sections either with your prefix or mention YAGPDB.")),(0,o.yg)("p",null,"This section documents the commands and subcommands of this system, along with their use-case and usage."),(0,o.yg)("admonition",{type:"note"},(0,o.yg)("p",{parentName:"admonition"},"Required arguments are enclosed in ",(0,o.yg)("inlineCode",{parentName:"p"},"< >"),", optional arguments in ",(0,o.yg)("inlineCode",{parentName:"p"},"[ ]"),".")),(0,o.yg)("h3",{id:"for-everyone"},"For everyone"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"suggest"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"suggest <suggestion>"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Used to submit a new suggestion.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"deletesuggestion"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"deletesuggestion <id>"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Delete the suggestion with the given ID. Can be used by mods to force-delete a suggestion.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"editsuggestion"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"editsuggestion <id> <new_suggestion>"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Edit the suggestion with the given ID. Replaces the old text entirely with the new text."))),(0,o.yg)("h3",{id:"for-mods--admins"},"For Mods / Admins"),(0,o.yg)("ul",null,(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"sa deny"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"sa deny <id> [reason]"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Deny a suggestion and notify the author that their suggestion has been deleted, along with the optional reason for denial.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"sa dupe"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"sa dupe <Suggestion-ID:Whole Number> <Old Suggestion-ID:Whole Number>"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Mark the first given suggestion as a dupe of the second suggestion, delete the duplicate and inform the author of the duplicate.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"sa approve"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"sa approve <id> [comment]"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Approve a suggestion and log it to the channel for approved suggestions and notify the author. Adds a record of who approved the suggestion.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"sa implement"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"sa implement <id> [comment]"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Log a suggestion to the channel for implemented suggestions and notify the author. Sets a record of who implemented this suggestion.")),(0,o.yg)("li",{parentName:"ul"},(0,o.yg)("p",{parentName:"li"},(0,o.yg)("inlineCode",{parentName:"p"},"sa comment"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"Syntax:")," ",(0,o.yg)("inlineCode",{parentName:"p"},"sa comment <id> <comment>"),(0,o.yg)("br",{parentName:"p"}),"\n",(0,o.yg)("strong",{parentName:"p"},"Use:")," Comment on a suggestion. Can be used on any kind of suggestion."),(0,o.yg)("admonition",{parentName:"li",type:"caution"},(0,o.yg)("p",{parentName:"admonition"},"If there is already a comment, this will override the old comment.")))),(0,o.yg)("h2",{id:"faq"},"FAQ"),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Q: What is a suggestion ID?"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"A:")," This is just the message ID of the suggestion message. If you are unsure how to get message IDs, you can read ",(0,o.yg)("a",{parentName:"p",href:"https://support.discord.com/hc/en-us/articles/206346498"},"this")," Discord article."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Q: I can't implement an approved suggestion! Why?"),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"A:")," This is very likely because you copied the wrong message ID. Double check your input."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},'Q: When I try to save, it errors with "response too long". What am I doing wrong?'),(0,o.yg)("br",null),"\n",(0,o.yg)("strong",{parentName:"p"},"A:")," You need to remove the first two comments, as shown ",(0,o.yg)("a",{parentName:"p",href:"#what-to-remove"},"further up"),"."),(0,o.yg)("h2",{id:"author"},"Author"),(0,o.yg)("p",null,"This custom command system was written by ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/Satty9361"},"@Satty9361"),"."))}u.isMDXComponent=!0}}]);