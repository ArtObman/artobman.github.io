"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2256],{5680:(e,t,r)=>{r.d(t,{xA:()=>p,yg:()=>m});var n=r(6540);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(r),f=a,m=u["".concat(s,".").concat(f)]||u[f]||d[f]||o;return r?n.createElement(m,i(i({ref:t},p),{},{components:r})):n.createElement(m,i({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=f;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=r[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},2643:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var n=r(8168),a=(r(6540),r(5680));const o={title:"Leave Feed"},i=void 0,l={unversionedId:"afk/leave-feed",id:"afk/leave-feed",title:"Leave Feed",description:"This code is optional - if you don't want AFK messages to be removed when users leave, just don't add it.",source:"@site/docs/afk/leave-feed.md",sourceDirName:"afk",slug:"/afk/leave-feed",permalink:"/afk/leave-feed",draft:!1,editUrl:"https://github.com/yagpdb-cc/yagpdb-cc/edit/master/website/docs/afk/leave-feed.md",tags:[],version:"current",frontMatter:{title:"Leave Feed"},sidebar:"sidebar",previous:{title:"Overview",permalink:"/afk/overview"},next:{title:"Main CC",permalink:"/afk/main-cc"}},s={},c=[{value:"Trigger",id:"trigger",level:2},{value:"Code",id:"code",level:2},{value:"Author",id:"author",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.yg)(u,(0,n.A)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("admonition",{type:"note"},(0,a.yg)("p",{parentName:"admonition"},"This code is optional - if you don't want AFK messages to be removed when users leave, just don't add it.\nThe other components of the AFK system will work fine without it.")),(0,a.yg)("p",null,"This code removes the AFK messages of users who have left the server, to keep your database usage low."),(0,a.yg)("p",null,"For more information about the AFK system, please see ",(0,a.yg)("a",{parentName:"p",href:"overview"},"this")," page."),(0,a.yg)("h2",{id:"trigger"},"Trigger"),(0,a.yg)("p",null,"This is ",(0,a.yg)("em",{parentName:"p"},"not")," a custom command! Rather, it's meant to be added to your ",(0,a.yg)("strong",{parentName:"p"},"Leave Feed"),"."),(0,a.yg)("h2",{id:"code"},"Code"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-gotmpl",metastring:"file=../../../src/afk/leave_feed.go.tmpl",file:"../../../src/afk/leave_feed.go.tmpl"},'{{/*\n    Clears the AFK status for users who leave the server.\n    See <https://yagpdb-cc.github.io/afk/leave-feed> for more information.\n\n    Author: jo3-l <https://github.com/jo3-l>\n*/}}\n\n{{ dbDel .User.ID "afk" }}\n{{/* If you already have a leave message, you can put it here. */}}\n')),(0,a.yg)("h2",{id:"author"},"Author"),(0,a.yg)("p",null,"This code was written by ",(0,a.yg)("a",{parentName:"p",href:"https://github.com/jo3-l"},"@jo3-l"),"."))}d.isMDXComponent=!0}}]);